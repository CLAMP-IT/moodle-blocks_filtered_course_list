define(["jquery","block_filtered_course_list/cookie"],function(r,c){function i(e,a){r(e).removeClass("block-fcl__rubric--expanded"),r(e).addClass("block-fcl__rubric--collapsed"),r(e).attr("aria-expanded","false"),r(e).next().attr("aria-hidden","true"),1==a&&c.set(e.dataset.hash,"collapsed")}return{init:function(s){var e=s.blockid;r("#"+e+" .block-fcl__rubric").each(function(){var e=c.get(this.dataset.hash);r(this).hasClass("block-fcl__rubric--expanded")||e&&"collapsed"!=e||i(this,s.persist),r(this).wrapInner(document.createElement("a")),r(this).find("a").attr("href","#"),r(this).on("click",function(e){var a,t;e.preventDefault(),r(".block-fcl__rubric").each(function(){r(this).attr("aria-selected","false")}),r(this).attr("aria-selected","true"),r(this).hasClass("block-fcl__rubric--collapsed")?(a=this,t=s.persist,r(a).removeClass("block-fcl__rubric--collapsed"),r(a).addClass("block-fcl__rubric--expanded"),r(a).attr("aria-expanded","true"),r(a).next().attr("aria-hidden","false"),1==t&&c.set(a.dataset.hash,"expanded")):r(this).hasClass("block-fcl__rubric--expanded")&&i(this,s.persist)})})}}});