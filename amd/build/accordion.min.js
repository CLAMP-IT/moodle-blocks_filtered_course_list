define(["jquery","block_filtered_course_list/cookie"],function(a,b){function c(c,d){a(c).removeClass("block-fcl__rubric--collapsed"),a(c).addClass("block-fcl__rubric--expanded"),a(c).attr("aria-expanded","true"),a(c).next().attr("aria-hidden","false"),1==d&&b.set("block_"+c.id+"_"+e(c.innerText),"expanded")}function d(c,d){a(c).removeClass("block-fcl__rubric--expanded"),a(c).addClass("block-fcl__rubric--collapsed"),a(c).attr("aria-expanded","false"),a(c).next().attr("aria-hidden","true"),1==d&&b.set("block_"+c.id+"_"+e(c.innerText),"collapsed")}function e(a){return a.replace(/\W/g,"").toLowerCase()}return{init:function(f){var g=f.blockid;a("#"+g+" .block-fcl__rubric").each(function(){var g=b.get("block_"+this.id+"_"+e(this.innerText));a(this).hasClass("block-fcl__rubric--expanded")||g&&"collapsed"!=g||d(this,f.persist),a(this).wrapInner(document.createElement("a")),a(this).find("a").attr("href","#"),a(this).on("click",function(b){b.preventDefault(),a(".block-fcl__rubric").each(function(){a(this).attr("aria-selected","false")}),a(this).attr("aria-selected","true"),a(this).hasClass("block-fcl__rubric--collapsed")?c(this,f.persist):a(this).hasClass("block-fcl__rubric--expanded")&&d(this,f.persist)})})}}});